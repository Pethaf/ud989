<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  <title>Cat clicker</title
</head>
<h1>The Cat Clicker</h1>
<div class="container">
<ul>
</ul>
<figure>
  <img src="http://placekitten.com.s3.amazonaws.com/homepage-samples/200/138.jpg">
</figure>
<div id="counter">
</div>
</html>
<script>
var currentCat;
function Cat(name, imageURL){
    this.name = name;
    this.imageURL = imageURL;
    this.counter = 0;
  };

  Cat.prototype.getName = function() { return this.name;}
  Cat.prototype.getCounter = function() { return this.counter;}
  Cat.prototype.increment = function() { this.counter+=1;}
  Cat.prototype.getImage = function() { return this.imageURL;}

  function changeCat()
  {
    var name = this.textContent;
    cats.forEach(function(cat)
    {
      if(cat.getName() === name)
      {
          var tmp = document.getElementsByTagName("figure")[0];
          tmp.removeChild(tmp.lastChild);
          var kittyName = document.createElement("figcaption");
          kittyName.textContent = cat.getName();
          document.getElementsByTagName("figure")[0].appendChild(kittyName);
          currentCat = cat;
          document.getElementsByTagName("figure")[0].
          getElementsByTagName("img")[0].src=cat.getImage();
          document.getElementById("counter").textContent = currentCat.getCounter();
      }
    });
  }
  function updateCounter()
  {
    currentCat.increment();
    document.getElementById("counter").textContent = currentCat.getCounter();
  }
    var catNames =
    [
      ["Sebastian","http://placekitten.com.s3.amazonaws.com/homepage-samples/408/287.jpg"],
      ["Claude","http://placekitten.com.s3.amazonaws.com/homepage-samples/200/287.jpg"],
      ["Bumbalerina","http://placekitten.com.s3.amazonaws.com/homepage-samples/200/139.jpg"],
      ["Electra","http://placekitten.com.s3.amazonaws.com/homepage-samples/200/138.jpg"],
      ["Demeter","http://placekitten.com.s3.amazonaws.com/homepage-samples/96/139.jpg"]
    ];
    var cats = [];
    catNames.forEach(function(cat){
      cats.push(new Cat(cat[0],cat[1]));
    })
    window.addEventListener("DOMContentLoaded",function(){
    cats.forEach(function(cat){
      var listNode = document.createElement("li");
      listNode.textContent = cat.getName();
      document.getElementsByTagName("ul")[0].appendChild(listNode);
      var list = document.getElementsByTagName("li");
      for(var j=0; j!= list.length; j++)
      {
        list[j].addEventListener("click",changeCat);
      }
      document.getElementsByTagName("img")[0].addEventListener("click",updateCounter);
    })});
</script>
</html>
